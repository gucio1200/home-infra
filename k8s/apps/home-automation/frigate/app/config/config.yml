---
mqtt:
  host: emqx-listeners.database.svc.cluster.local
  user: "{FRIGATE_MQTT_USERNAME}"
  password: "{FRIGATE_MQTT_PASSWORD}"
database:
  path: /data/frigate.db
detectors:
  coral:
    type: edgetpu
    device: usb
ffmpeg:
#  global_args: ["-hide_banner", "-loglevel", "warning"]
  hwaccel_args: preset-intel-qsv-h264 #preset-vaapi #preset-intel-qsv-h264
  input_args: preset-rtsp-restream #preset-rtmp-generic #preset-rtsp-restream
birdseye:
  mode: continuous
  enabled: True
  restream: True
record:
  enabled: true
  retain:
    days: 0
    mode: motion
  alerts:
    retain:
      days: 3
      mode: active_objects
  detections:
    retain:
      days: 3
      mode: active_objects
snapshots:
  enabled: false
  retain:
    default: 5
    objects:
      person: 30
objects:
  track:
    - person
    - dog
    - cat
    - bicycle
    - car
cameras:
  camera_1:
    detect:
      enabled: true
      width: 1920
      height: 1080
    motion:
      mask:
        - 0.018,0,0.268,0,0.267,0.049,0.017,0.046
    ffmpeg:
      inputs:
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_1_lq
          roles:
            - detect
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_1_hq
          roles:
            - record
  camera_2:
    detect:
      enabled: true
      width: 1920
      height: 1080
    motion:
      mask:
        - 0.018,0,0.268,0,0.267,0.049,0.017,0.046
    ffmpeg:
      inputs:
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_2_lq
          roles:
            - detect
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_2_hq
          roles:
            - record
  camera_3:
    detect:
      enabled: true
      width: 1920
      height: 1080
    motion:
      mask:
        - 0.018,0,0.268,0,0.267,0.049,0.017,0.046
    ffmpeg:
      inputs:
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_3_lq
          roles:
            - detect
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_3_hq
          roles:
            - record
  camera_4:
    detect:
      enabled: true
      width: 1920
      height: 1080
    objects:
      filters:
        car:
          mask:
            - 0.143,1,0.389,0.378,0.726,0.378,0.973,1
    motion:
      mask:
        - 0.018,0,0.268,0,0.267,0.049,0.017,0.046
    ffmpeg:
      inputs:
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_4_lq
          roles:
            - detect
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_4_hq
          roles:
            - record
  camera_5:
    detect:
      enabled: true
      width: 1920
      height: 526
    motion:
      mask:
        - 0.015,0,0.015,0.083,0.265,0.083,0.265,0
    ffmpeg:
      hwaccel_args: ""
      inputs:
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_5_lq
          roles:
            - detect
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_5_hq
          roles:
            - record
  camera_6:
    detect:
      enabled: true
      width: 1920
      height: 526
    objects:
      filters:
        car:
          mask:
            - 0.665,0.359,0.8,0.673,0.814,0.609,0.827,0.545,0.689,0.238,0.663,0.267
            - 0.33,0.594,0.361,0.601,0.372,0.639,0.405,0.619,0.519,0.594,0.527,0.403,0.483,0.324,0.441,0.329,0.437,0.203,0.339,0.223,0.316,0.302
    motion:
      mask:
        - 0.015,0,0.015,0.083,0.265,0.083,0.265,0
    ffmpeg:
      hwaccel_args: ""
      inputs:
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_6_lq
          roles:
            - detect
        - path: rtsp://go2rtc.home-automation.svc.cluster.local:554/camera_6_hq
          roles:
            - record
